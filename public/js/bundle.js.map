{"mappings":";;;AEAO,MAAM,4CAAY;IACxB,MAAM,KAAK,SAAS,cAAc;IAClC,IAAI,IAAI,GAAG,cAAc,YAAY;AACpC;AAGO,MAAM,4CAAY,CAAC,MAAM;IACjC;IACA,MAAM,SAAS,CAAC,yBAAyB,EAAE,KAAK,EAAE,EAAE,IAAI,MAAM,CAAC;IAC/D,SAAS,cAAc,QAAQ,mBAAmB,cAAc;IAChE,OAAO,WAAW,2CAAW;AAC5B;;;ADRK,MAAM,4CAAQ,OAAO,OAAO;IAClC,IAAI;QACH,MAAM,MAAM,MAAM,CAAA,GAAA,YAAI,EAAE;YACvB,QAAQ;YACR,KAAK;YACL,MAAM;uBACL;0BACA;YACD;QACD;QAEA,IAAI,IAAI,KAAK,WAAW,WAAW;YAClC,CAAA,GAAA,yCAAQ,EAAE,WAAW;YACrB,OAAO,WAAW;gBACjB,SAAS,OAAO;YACjB,GAAG;QACJ;IACD,EAAE,OAAO,KAAK;QACb,CAAA,GAAA,yCAAQ,EAAE,SAAS,IAAI,SAAS,KAAK;IACtC;AACD;;;AEvBO,MAAM,4CAAa,CAAC;IAC1B,SAAS,cACR;IACD,IAAI,MAAM,IAAI,SAAS,IAAI;QAC1B,WAAW;QACX,OAAO;QACP,YAAY;IACb;IAEA,MAAM,SAAS,IAAI,SAAS;IAE5B,UAAU,QAAQ,CAAC;QAClB,MAAM,KAAK,SAAS,cAAc;QAClC,GAAG,YAAY;QAEf,IAAI,SAAS,OAAO;YACnB,SAAS;YACT,QAAQ;QACT,GACE,UAAU,IAAI,aACd,MAAM;QAER,IAAI,SAAS,MAAM;YAClB,QAAQ;QACT,GACE,UAAU,IAAI,aACd,QAAQ,CAAC,OAAO,EAAE,IAAI,IAAI,EAAE,EAAE,IAAI,YAAY,IAAI,CAAC,EACnD,MAAM;QAER,OAAO,OAAO,IAAI;IACnB;IAEA,IAAI,UAAU,QAAQ;QACrB,SAAS;YACR,KAAK;YACL,QAAQ;YACR,MAAM;YACN,OAAO;QACR;IACD;AACD;;;AHrCA,MAAM,+BAAS,SAAS,eAAe;AACvC,MAAM,kCAAY,SAAS,cAAc;AAEzC,IAAI,8BAAQ;IACX,MAAM,YAAY,KAAK,MAAM,6BAAO,QAAQ;IAC5C,CAAA,GAAA,yCAAS,EAAE;AACZ;AAEA,IAAI,iCACH,gCAAU,iBAAiB,UAAU,CAAC;IACrC,EAAE;IACF,MAAM,QAAQ,SAAS,eAAe,SAAS;IAC/C,MAAM,WAAW,SAAS,eAAe,YAAY;IACrD,CAAA,GAAA,yCAAI,EAAE,OAAO;AACd","sources":["public/js/index.js","public/js/login.js","public/js/alerts.js","public/js/mapbox.js"],"sourcesContent":["import { login } from './login.js';\nimport { displayMap } from './mapbox.js';\n\nconst mapBox = document.getElementById('map');\nconst loginForm = document.querySelector('.form');\n\nif (mapBox) {\n\tconst locations = JSON.parse(mapBox.dataset.locations);\n\tdisplayMap(locations);\n}\n\nif (loginForm) {\n\tloginForm.addEventListener('submit', (e) => {\n\t\te.preventDefault();\n\t\tconst email = document.getElementById('email').value;\n\t\tconst password = document.getElementById('password').value;\n\t\tlogin(email, password);\n\t});\n}\n","import axios from 'axios';\nimport { showAlert } from './alerts.js';\n\nexport const login = async (email, password) => {\n\ttry {\n\t\tconst res = await axios({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'http://localhost:3000/api/v1/users/login',\n\t\t\tdata: {\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t},\n\t\t});\n\n\t\tif (res.data.status === 'success') {\n\t\t\tshowAlert('success', 'Logged in successfully!');\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tlocation.assign('/');\n\t\t\t}, 1500);\n\t\t}\n\t} catch (err) {\n\t\tshowAlert('error', err.response.data.message);\n\t}\n};\n","export const hideAlert = () => {\n\tconst el = document.querySelector('.alert');\n\tif (el) el.parentElement.removeChild(el);\n  };\n  \n  // type is 'success' or 'error'\n  export const showAlert = (type, msg) => {\n\thideAlert();\n\tconst markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n\tdocument.querySelector('body').insertAdjacentHTML('afterbegin', markup);\n\twindow.setTimeout(hideAlert, 5000);\n  };","export const displayMap = (locations) => {\n\tmapboxgl.accessToken =\n\t\t'pk.eyJ1IjoiYWxiaW5hdG9yMTcwNyIsImEiOiJjbGpwY3Z5NjcwMDNnM25tdmVhb3UwNng4In0.XsaRBpx7PndslhJ8mOVq9Q';\n\tvar map = new mapboxgl.Map({\n\t\tcontainer: 'map',\n\t\tstyle: 'mapbox://styles/albinator1707/cljpd19fx00t501qy2jmebgjq',\n\t\tscrollZoom: false,\n\t});\n\n\tconst bounds = new mapboxgl.LngLatBounds();\n\n\tlocations.forEach((loc) => {\n\t\tconst el = document.createElement('div');\n\t\tel.className = 'marker';\n\n\t\tnew mapboxgl.Marker({\n\t\t\telement: el,\n\t\t\tanchor: 'bottom',\n\t\t})\n\t\t\t.setLngLat(loc.coordinates)\n\t\t\t.addTo(map);\n\n\t\tnew mapboxgl.Popup({\n\t\t\toffset: 30,\n\t\t})\n\t\t\t.setLngLat(loc.coordinates)\n\t\t\t.setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\n\t\t\t.addTo(map);\n\n\t\tbounds.extend(loc.coordinates);\n\t});\n\n\tmap.fitBounds(bounds, {\n\t\tpadding: {\n\t\t\ttop: 200,\n\t\t\tbottom: 150,\n\t\t\tleft: 100,\n\t\t\tright: 100,\n\t\t},\n\t});\n};\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}